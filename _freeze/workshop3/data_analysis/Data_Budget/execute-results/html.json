{
  "hash": "cb802ca74acc37686ceb620cd80d9f90",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Budget Data Analysis\nformat:\n  html:\n    toc: true\n    toc-location: left\n    number-sections: false\n\nwebr:\n  packages: [\"tidyverse\", \"GGally\"]\nfilters:\n  - webr\n---\n\n\n\n\n```{webr-r}\n#| context: setup\n\n# Load required libraries\nlibrary(tidyverse)\n\n# Load required data files - budget data files\ndownload.file('https://raw.githubusercontent.com/mafeeney/BM424workshop3/main/workshop3/data_sets/budget_groupA.csv', 'budget_groupA.csv')\n```\n\n\n\n## WebR Playground\n\n```{webr-r}\n# Use this WebR cell to experiment with any additional data visualisation(s)  you would like to perform with your pandemic data\n```\n\n# Budget Analysis\n\n## Budget Data: Step 1--Load and Examine Your City's Budget Data\n\nThe budget data for your city is in a file `budget_groupX.csv` (where you replace X with your group letter; e.g., the file for group A will be `budget_groupA.csv`). You can load this using the `read_csv()` function. \n\nOnce you have loaded your data, you will want to examine it to ensure that it has loaded correctly, and to ensure that you understand how the data is structured. You can do this using `glimpse()`, which will summarize the number of rows and columns present in your data and give a glimpse of the columns; or by using `head()`, which will output the first part of your dataset.\n\nWhen you use the `head()` function, it displays the first six rows of your data by default. However, you can customize this to view a different number of rows by specifying the number of rows you want to see. The general syntax for the head() function with a specified number of rows is: head(data_frame, n) where data_frame is your data frame (in this case, you might name your data frame something like \"budget\") and n is the number of rows you want to view. For example, if you want to view the first 10 rows of your data instead of the default 6, you can use the following command: `head(budget, 10)`\n\n\n::: {.callout-important title=\"Task\"}\nUse the `WebR` cell below to load and examine your data.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## I need a hint!\n- Use `read_csv()` to load your data.\n- Use `head()` or `glimpse()` to examine your data.\n:::\n\n```{webr-r}\n# Use the read_csv(), and head() or glimpse() functions to load and examine your data.\n\n```\n\n::: {.callout-warning collapse=\"true\"}\n## Help! I'm stuck!\n\nUse the `R` code below to load and examine your data.\n\n```r\n# Replace 'X' with your group letter to load the correct file\nbudget <- read_csv(\"data_sets/budget_groupA.csv\")\n\n# View the first few rows of the data\nhead(budget)\n\n# Alternatively, you can use glimpse() to get an overview of the data\nglimpse(budget)\n```\n:::\n\n## Budget Data: Step 2--Plot the Data\n\nNow that you have loaded and examined your data, you can visualize it. To begin, you might create plots for both `Revenue` and `Expenditure` over the years, using the `ggplot2` package.\n\n::: {.callout-important title=\"Task\"}\nUse the `WebR` cell below to plot the `Revenue` and `Expenditure` data separately.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## I need a hint!\n- Use `ggplot()` to initialize the plot.\n- Use `geom_line()` and `geom_point()` to add lines and points to the plot.\n- Use `labs()` to add labels and titles to your plot.\n:::\n\n```{webr-r}\n# Use ggplot2 to plot the Revenue and Expenditure data separately\n\n```\n\n::: {.callout-warning collapse=\"true\"}\n## Help! I'm stuck!\n\nUse the `R` code below to plot the `Revenue` and `Expenditure` data separately.\n\n```r\n# Filter out rows with NA in Revenue - this will give you your budget expenditures\nexpenditure <- budget %>%\n  filter(!is.na(Revenue))\n\n# Filter out rows with NA in Expenditure - this will give you your budget revenues\nrevenue <- budget %>%\n  filter(!is.na(Expenditure))\n  \n# Examine the filtered data to ensure they have been filtered correctly\nprint(expenditure)\nprint(revenue)\n\n# Plot Revenue over Year\nggplot(revenue, aes(x = Year, y = Revenue, color = Category)) +\n  geom_line() +\n  geom_point() +\n  labs(title = \"Revenue by Year\",\n       x = \"Year\",\n       y = \"Amount\",\n       color = \"Category\") +\n  theme_minimal()\n\n# Plot Expenditure over Year\nggplot(expenditure, aes(x = Year, y = Expenditure, color = Category)) +\n  geom_line() +\n  geom_point() +\n  labs(title = \"Expenditure by Year\",\n       x = \"Year\",\n       y = \"Amount\",\n       color = \"Category\") +\n  theme_minimal()\n```\n:::\n\n## Budget Data: Step 3--Summarize the Current Year's Budget\n\nTo get a summary of the current year's budget, you can use the `filter()` function to select the data for the current year (2024) and then use `sum()` to get an overview of the budget (totals for revenues and expenditures).\n\nYou also may find it helpful to examine particular aspects of the budget in detail - for instance, the amount of money budgeted for contingency expenditures for the current year. You can do this using the `print()` function.\n\n::: {.callout-important title=\"Task\"}\nUse the `WebR` cell below to get a summary of the current year's budget.\n:::\n\n::: {.callout-tip collapse=\"true\"}\n## I need a hint!\n- Use `filter()` to select the data for the current year.\n- Use `sum()` to get totals for the budgeted revenues and expenditures.\n- Use `print()` to get selected data, such as the contingency expenditure budget for the current year.\n:::\n\n```{webr-r}\n# Use filter(), and sum() to get a sum of the current year's total revenues and expenditures budgets. Use print\n\n```\n\n::: {.callout-warning collapse=\"true\"}\n## Help! I'm stuck!\n\nUse the `R` code below to get a summary of the current year's budget.\n\n```r\n# Filter the data for the current year\ncurrent_budget <- budget %>%\n  filter(Year == 2024)\n\n# View the current year's budget\nprint(current_budget)\n\n# Get the sum of Revenues for the current year\nrevenue_sum <- sum(current_budget$Revenue, na.rm = TRUE)\nprint(revenue_sum)\n\n# Get the sum of Expenditures for the current year\nexpenditure_sum <- sum(current_budget$Expenditure, na.rm = TRUE)\nprint(expenditure_sum)\n\n#Print the budget for contingency expenditures for the current year\nprint(budget$Expenditure[budget$Year == 2024 & budget$Category == \"Contingency Expenditures\"])\n\n```\n:::\n\n\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}